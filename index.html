<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- META 기본 설정 -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NO정의 채용/작업 (Alba-style 쨌 Beta)</title>
  <meta name="description" content="알바천국 스타일의 리스팅형 UI로 성과 기반(수익셰어/보너스) 채용/작업 공고를 탐색하세요" />

  <!-- TailwindCSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* 전반 톤 밝고 명료한 리스트에 집중 */
    body{ background:#fafafa; }
    .container{ max-width: 1200px; }
    .line-clamp-2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
    .btn{ @apply inline-flex items-center justify-center rounded-xl px-3 py-2 text-sm font-semibold; }
    .btn-primary{ @apply bg-rose-600 text-white hover:bg-rose-700; }
    .btn-ghost{ @apply border bg-white hover:bg-gray-50; }
    .badge{ @apply rounded-full border px-2 py-0.5 text-xs text-gray-700; }
    .tag{ @apply rounded-full border px-2 py-1 text-xs hover:bg-gray-50; }
  </style>

  <!-- Supabase JS (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2824624880449066"     crossorigin="anonymous"></script>
</head>
<body class="text-gray-900">
  <!-- 상단 고정 내비게이션 -->
  <header class="sticky top-0 z-40 border-b bg-white/90 backdrop-blur">
    <div class="container mx-auto px-4 h-16 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <!-- 무엇을 변경하든: 서비스 로고/워드마크 -->
        <a href="#" class="text-xl font-extrabold">NO<span class="text-rose-600">정의</span>.COM</a>
        <!-- 무엇을 변경하든: 주요 네비 메뉴 -->
        <nav class="hidden md:flex items-center gap-5 text-sm text-gray-600">
          <a href="#" class="hover:text-rose-600">채용/작업</a>
          <a href="#" class="hover:text-rose-600">상단고정(안내)</a>
          <a href="#guide" class="hover:text-rose-600">안전가이드</a>
        </nav>
      </div>
      <div class="flex items-center gap-2">
        <!-- 무엇을 변경하든: 로그인/로그아웃 버튼 -->
        <button id="btn-login" class="btn btn-ghost">로그인</button>
        <button id="btn-logout" class="btn btn-primary hidden">로그아웃</button>
        <a href="#post" class="hidden sm:inline-flex btn btn-primary">공고 등록</a>
      </div>
    </div>
  </header>

  <!-- 상단 검색바 (Alba 스타일 참고: 통검 + 필터 바) -->
  <section class="border-b bg-white">
    <div class="container mx-auto px-4 py-4">
      <!-- 무엇을 변경하든: 상단 키워드/필터 입력 UI -->
      <div class="grid md:grid-cols-12 gap-3">
        <div class="md:col-span-5">
          <input id="q" type="text" class="w-full rounded-xl border px-3 py-2" placeholder="키워드 (예: 프론트엔드, 영상편집, React)">
        </div>
        <div class="md:col-span-2">
          <select id="loc" class="w-full rounded-xl border px-3 py-2">
            <option value="">지역(전체)</option>
            <option>서울</option><option>부산</option><option>대구</option><option>경기</option><option>온라인</option>
          </select>
        </div>
        <div class="md:col-span-2">
          <select id="cat" class="w-full rounded-xl border px-3 py-2">
            <option value="">분류(전체)</option>
            <option>개발</option><option>디자인</option><option>영상/콘텐츠</option><option>마케팅/세일즈</option><option>운영/CS</option>
          </select>
        </div>
        <div class="md:col-span-2">
          <select id="reward" class="w-full rounded-xl border px-3 py-2">
            <option value="">보상(전체)</option>
            <option value="share">수익셰어</option>
            <option value="bounty">건당 보너스</option>
            <option value="hybrid">하이브리드</option>
          </select>
        </div>
        <div class="md:col-span-1">
          <button id="btn-search" class="w-full btn btn-primary">검색</button>
        </div>
      </div>
      <!-- 무엇을 변경하든: 추천태그 버튼들 -->
      <div class="mt-3 flex flex-wrap gap-2 text-xs">
        <button class="tag" data-q="재택">#재택</button>
        <button class="tag" data-q="단기">#단기</button>
        <button class="tag" data-q="장기">#장기</button>
        <button class="tag" data-q="디자인">#디자인</button>
        <button class="tag" data-q="React">#React</button>
      </div>
    </div>
  </section>

  <!-- 메인 레이아웃: 리스트 + 사이드바 -->
  <main class="container mx-auto px-4 py-6 grid md:grid-cols-12 gap-6">
    <!-- 리스트 영역 -->
    <section class="md:col-span-9">
      <!-- 무엇을 변경하든: 정렬/결과 수 표시 바 -->
      <div class="mb-3 flex items-center justify-between text-sm text-gray-600">
        <div><span id="result-count">0</span>건의 공고</div>
        <div class="flex items-center gap-2">
          <label>정렬</label>
          <select id="sort" class="rounded-lg border px-2 py-1">
            <option value="recent">최신순</option>
          </select>
        </div>
      </div>
      <div id="list" class="grid gap-3"></div>
      <!-- 페이지네이션 -->
      <div class="mt-4 flex items-center justify-center gap-2">
        <button id="prev" class="btn btn-ghost">이전</button>
        <span id="page" class="text-sm text-gray-600">1</span>
        <button id="next" class="btn btn-ghost">다음</button>
      </div>
    </section>

    <!-- 사이드바: 카테고리/안내/최근 본 공고 -->
    <aside class="md:col-span-3 space-y-3">
      <div class="rounded-2xl border bg-white p-4">
        <h3 class="font-bold">카테고리</h3>
        <div class="mt-2 grid grid-cols-2 gap-2 text-sm">
          <button class="tag" data-cat="개발">개발</button>
          <button class="tag" data-cat="디자인">디자인</button>
          <button class="tag" data-cat="영상/콘텐츠">영상/콘텐츠</button>
          <button class="tag" data-cat="마케팅/세일즈">마케팅/세일즈</button>
          <button class="tag" data-cat="운영/CS">운영/CS</button>
          <button class="tag" data-cat="">전체</button>
        </div>
      </div>
      <div class="rounded-2xl border bg-white p-4" id="recent-box">
        <h3 class="font-bold">최근 본 공고</h3>
        <div id="recent" class="mt-2 space-y-2 text-sm text-gray-700"></div>
      </div>
      <div class="rounded-2xl border bg-white p-4" id="guide">
        <h3 class="font-bold">안전/가이드</h3>
        <ul class="mt-2 list-disc list-inside text-sm text-gray-700">
          <li>수익셰어 %/캡/지급 트리거 필수</li>
          <li>무급 상시근로 대체 불가</li>
          <li>분쟁 예방: 전자서명/증빙 보관</li>
        </ul>
      </div>
    </aside>
  </main>

  <!-- 상세 모달 -->
  <div id="modal" class="fixed inset-0 hidden items-center justify-center bg-black/40 p-4">
    <div class="w-full max-w-2xl rounded-2xl bg-white p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-title" class="text-lg font-bold"></h3>
        <button id="modal-close" class="text-gray-500">닫기</button>
      </div>
      <div id="modal-body" class="mt-3 text-sm text-gray-700"></div>
      <div class="mt-4 flex items-center justify-end gap-2">
        <button id="btn-apply" class="btn btn-primary">지원 문의</button>
      </div>
    </div>
  </div>

  <script src="main.js" defer></script>

  <!-- 광고 팝업 모달 -->
  <div id="ad-popup" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 p-4">
    <div class="w-full max-w-sm rounded-2xl bg-white p-6 text-center">
      <h3 class="font-bold text-lg">광고주를 찾습니다</h3>
      <p class="mt-2 text-sm text-gray-600">
        (처음 계약 3개월간 무료 광고 서비스 제공)
      </p>
      <div class="mt-4 flex justify-center gap-2">
        <button id="ad-close-today" class="btn btn-ghost">오늘 하루 보지 않기</button>
        <button id="ad-close" class="btn btn-primary">닫기</button>
      </div>
    </div>
  </div>

  <!-- 푸터 -->
  <footer class="mt-10 border-t bg-white">
    <div class="container mx-auto px-4 py-8 text-sm text-gray-600 grid md:grid-cols-2 gap-4">
      <div>
        <div class="font-extrabold">NO열정페이.COM</div>
        <p class="mt-2">알바천국 대용의 리스팅형 UI로 성과 기반 작업 매칭을 빠르게 시작하세요 (베타)</p>
      </div>
      <div class="md:text-right space-x-4">
        <a href="#guide" class="hover:text-rose-700">이용약관(안내)</a>
        <a href="#guide" class="hover:text-rose-700">개인정보처리방침(안내)</a>
        <span class="text-gray-400">© 2025</span>
      </div>
    </div>
  </footer>
  
  <!-- ANNOUNCEMENTS LOADER -->
  <script>
  (async () => {
    try {
      const r = await fetch('announcements.json', { cache: 'no-store' });
      if(!r.ok) return; const d = await r.json();
      const it = (d && Array.isArray(d.items)) ? d.items.filter(x=>x.published) : [];
      if(!it.length) return; const a = it[0];
      const wrap = document.createElement('div');
      wrap.className = 'sticky top-0 z-50';
      wrap.innerHTML = `
        <div class="bg-amber-100 text-amber-900 border-b border-amber-200">
          <div class="container mx-auto px-4 py-2 text-sm flex items-center justify-between">
            <div class="truncate"><strong class="mr-2">공지</strong>${escapeHtml(a.title||'공지')}</div>
            <button onclick="this.closest('div.bg-amber-100').remove();">닫기</button>
          </div>
        </div>`;
      document.body.prepend(wrap);
      function escapeHtml(s){return String(s||'').replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));}
    } catch(e) { console.warn('announcements loader error', e) }
  })();
  </script>

<!-- [safety-guide:start] -->
<!-- 안전/가이드 v2 (이 파일을 편집하세요) -->`r`n<section id="safety-guide" class="prose max-w-3xl mx-auto py-8">`r`n  <h2>안전/가이드</h2>`r`n  <p>본 플랫폼은 구인·구직 당사자가 자율적으로 계약을 체결하도록 돕는 중개 도구입니다. 계약의 법적 효력과 책임은 당사자에게 귀속됩니다.</p>`r`n  <h3>계약서 작성 시 주의</h3>`r`n  <ul>`r`n    <li>반드시 <strong>서면 계약</strong>으로 체결 (구두합의 지양)</li>`r`n    <li>근로형태/역할/책임/보수/지급시기/분쟁절차 명시</li>`r`n    <li>개인정보 보호 및 관련 법령(근로기준법·민법·상법 등) 준수</li>`r`n  </ul>`r`n  <h3>수익 분배 가이드</h3>`r`n  <ul>`r`n    <li>시작 전 <strong>비율·기준</strong> 합의(기여도·위험·자본 반영)</li>`r`n    <li>지분/매출쉐어/성과보너스 구조 명확화, 정산 근거 보관</li>`r`n  </ul>`r`n  <h3>법적 고지</h3>`r`n  <p>플랫폼은 표준계약서·가이드·법률상담 연계를 제공할 수 있으나 계약 당사자는 아닙니다. 분쟁 시 중재/조정/소송 절차를 사용할 수 있습니다.</p>`r`n</section>`r`n

<!-- [safety-guide:end] -->
</body>
</html>